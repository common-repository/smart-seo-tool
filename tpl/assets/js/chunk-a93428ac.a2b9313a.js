(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a93428ac"],{6006:function(t,o,a){"use strict";a.r(o);var e=function(){var t=this,o=t._self._c;return o("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.isLoaded,expression:"!isLoaded"}],staticClass:"wbs-content-inner",class:{"wb-page-loaded":t.isLoaded}},[o("div",{staticClass:"wbs-main"},[t.isLoaded?o("div",[t._m(0),o("table",{staticClass:"wbs-form-table"},[o("tbody",[o("tr",[o("th",{staticClass:"row w8em"},[t._v("索引")]),o("td",{staticClass:"info"},[o("el-radio-group",{on:{change:function(o){return t.set_noindex(o,"search")}},model:{value:t.search_noindex,callback:function(o){t.search_noindex=o},expression:"search_noindex"}},[o("el-radio",{attrs:{label:0}},[t._v("索引")]),o("el-radio",{attrs:{label:1}},[t._v("不索引")])],1)],1)]),o("tr",[o("th",{staticClass:"row w8em"},[t._v("跟随")]),o("td",{staticClass:"info"},[o("el-radio-group",{on:{change:function(o){return t.set_nofollow(o,"search")}},model:{value:t.search_nofollow,callback:function(o){t.search_nofollow=o},expression:"search_nofollow"}},[o("el-radio",{attrs:{label:0}},[t._v("跟随")]),o("el-radio",{attrs:{label:1}},[t._v("不跟随")])],1)],1)])])]),o("wbs-tdk-setter",{attrs:{cnf:{separator:t.opt.separator,titleVariables:t.title_variables.search,kwMode:1},opt:t.opt.search},on:{change:function(o){t.opt.search=o}}}),t._m(1),o("table",{staticClass:"wbs-form-table"},[o("tbody",[o("tr",[o("th",{staticClass:"row w8em"},[t._v("索引")]),o("td",{staticClass:"info"},[o("el-radio-group",{on:{change:function(o){return t.set_noindex(o,"tag")}},model:{value:t.tag_noindex,callback:function(o){t.tag_noindex=o},expression:"tag_noindex"}},[o("el-radio",{attrs:{label:0}},[t._v("索引")]),o("el-radio",{attrs:{label:1}},[t._v("不索引")])],1)],1)]),o("tr",[o("th",{staticClass:"row w8em"},[t._v("跟随")]),o("td",{staticClass:"info"},[o("el-radio-group",{on:{change:function(o){return t.set_nofollow(o,"tag")}},model:{value:t.tag_nofollow,callback:function(o){t.tag_nofollow=o},expression:"tag_nofollow"}},[o("el-radio",{attrs:{label:0}},[t._v("跟随")]),o("el-radio",{attrs:{label:1}},[t._v("不跟随")])],1)],1)])])]),o("wbs-tdk-setter",{attrs:{cnf:{separator:t.opt.separator,titleVariables:t.title_variables.tag,kwMode:1},opt:t.opt.tag},on:{change:function(o){t.opt.tag=o}}}),t._m(2),o("table",{staticClass:"wbs-form-table"},[o("tbody",[o("tr",[o("th",{staticClass:"row w8em"},[t._v("索引")]),o("td",{staticClass:"info"},[o("el-radio-group",{on:{change:function(o){return t.set_noindex(o,"author")}},model:{value:t.author_noindex,callback:function(o){t.author_noindex=o},expression:"author_noindex"}},[o("el-radio",{attrs:{label:0}},[t._v("索引")]),o("el-radio",{attrs:{label:1}},[t._v("不索引")])],1)],1)]),o("tr",[o("th",{staticClass:"row w8em"},[t._v("跟随")]),o("td",{staticClass:"info"},[o("el-radio-group",{on:{change:function(o){return t.set_nofollow(o,"author")}},model:{value:t.author_nofollow,callback:function(o){t.author_nofollow=o},expression:"author_nofollow"}},[o("el-radio",{attrs:{label:0}},[t._v("跟随")]),o("el-radio",{attrs:{label:1}},[t._v("不跟随")])],1)],1)])])]),o("wbs-tdk-setter",{attrs:{cnf:{separator:t.opt.separator,titleVariables:t.title_variables.author,kwMode:1},opt:t.opt.author},on:{change:function(o){t.opt.author=o}}})],1):t._e(),o("wbs-var-doc",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}]}),o("wb-prompt",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}],staticClass:"mt"})],1),t.$cnf.is_pro?t._e():o("wbs-more-sources",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}]}),o("wbs-ctrl-bar",{on:{submit:t.updateData}})],1)},n=[function(){var t=this,o=t._self._c;return o("h3",{staticClass:"sc-title-sub"},[o("span",[t._v("搜索结果页")])])},function(){var t=this,o=t._self._c;return o("h3",{staticClass:"sc-title-sub"},[o("span",[t._v("标签列表")])])},function(){var t=this,o=t._self._c;return o("h3",{staticClass:"sc-title-sub"},[o("span",[t._v("作者归档")])])}],s=a("46d5"),l=a("6bd9"),r={name:"TdkMore",components:{"wbs-tdk-setter":s["a"],"wbs-var-doc":l["a"]},data(){const t=this;return{formChanged:0,isLoaded:!1,is_pro:t.$cnf.is_pro,opt:{},search_noindex:0,tag_noindex:0,author_noindex:0,search_nofollow:0,tag_nofollow:0,author_nofollow:0,separator:[],title_variables:{}}},created(){const t=this;t.getData()},methods:{set_noindex(t,o){const a=this;let e=a.opt.noindex.indexOf(o);t&&e<0?a.opt.noindex.push(o):!t&&e>-1&&a.opt.noindex.splice(e,1)},set_nofollow(t,o){const a=this;let e=a.opt.nofollow.indexOf(o);t&&e<0?a.opt.nofollow.push(o):!t&&e>-1&&a.opt.nofollow.splice(e,1)},getData(){const t=this;t.$api.getData({action:t.$cnf.action.act,op:"get_options",key:"tdk",type:"tag,search,author"}).then(o=>{const a=o.data;t.opt=a.opt,t.opt.nofollow||(t.opt.nofollow=[]),t.opt.noindex?(t.opt.noindex.indexOf("search")>-1&&(t.search_noindex=1),t.opt.noindex.indexOf("tag")>-1&&(t.tag_noindex=1),t.opt.noindex.indexOf("author")>-1&&(t.author_noindex=1)):t.opt.noindex=[],t.opt.nofollow&&(t.opt.nofollow.indexOf("search")>-1&&(t.search_nofollow=1),t.opt.nofollow.indexOf("tag")>-1&&(t.tag_nofollow=1),t.opt.nofollow.indexOf("author")>-1&&(t.author_nofollow=1)),t.separator=a.separator,t.title_variables=a.title_variables,t.isLoaded=!0})},updateData(t){const o=this;o.$api.saveData({_ajax_nonce:_wb_sst_ajax_nonce||"",action:o.$cnf.action.act,op:"update_options",opt:o.opt,key:"tdk",type:"more"}).then(a=>{o.$wbui.toast("设置保存成功"),o.formChanged=1,t&&t()})}},computed:{},watch:{opt:{handler(){this.formChanged++},deep:!0}},beforeRouteLeave(t,o,a){const e=this;e.formChanged>1?e.$wbui.open({content:"您修改的设置尚未保存，确定离开此页面吗？",btn:["保存并离开","放弃修改"],yes(){return a(!1),e.updateData(()=>{a()}),!1},no(){return a(),!1}}):a()}},i=r,c=a("2877"),d=Object(c["a"])(i,e,n,!1,null,null,null);o["default"]=d.exports},"6bd9":function(t,o,a){"use strict";var e=function(){var t=this,o=t._self._c;return o("table",{staticClass:"wbs-form-table mt"},[o("tbody",[o("tr",[o("th",{staticClass:"row w8em"}),o("td",[o("el-button",{attrs:{size:"medium",type:"primary",plain:"",icon:"el-icon-collection"},on:{click:function(o){t.unfold=!t.unfold}}},[t._v("变量注释")]),o("table",{directives:[{name:"show",rawName:"v-show",value:t.unfold,expression:"unfold"}],staticClass:"wbs-table wbs-table-doc table-hover mt"},[t._m(0),o("tbody",t._l(t.doc_items,(function(a){return o("tr",{key:a.name},[o("td",[o("b",[t._v(t._s(a.name))])]),o("td",{domProps:{innerHTML:t._s(a.desc)}})])})),0)])],1)])])])},n=[function(){var t=this,o=t._self._c;return o("thead",[o("tr",[o("td",[t._v("变量名称")]),o("td",[t._v("变量说明")])])])}],s={name:"comVariableDoc",props:{type:{type:String,value:""}},data(){return{doc_items:[],unfold:!1}},created(){const t=this,o="WB_SST_DOC"+(t.type?"_"+t.type:"");let a=localStorage.getItem(o);a=a?JSON.parse(a):null,a&&a.ver==t.$cnf.pd_version?t.doc_items=a.data:t.$api.getData({action:t.$cnf.action.act,op:"doc",type:t.type?t.type:""}).then(a=>{t.doc_items=a["data"],localStorage.setItem(o,JSON.stringify({ver:t.$cnf.pd_version,data:a["data"]}))})}},l=s,r=a("2877"),i=Object(r["a"])(l,e,n,!1,null,null,null);o["a"]=i.exports}}]);