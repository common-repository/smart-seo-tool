(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d7fbc"],{"78af":function(t,a,o){"use strict";o.r(a);var s=function(){var t=this,a=t._self._c;return a("div",{staticClass:"wbs-content"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.isLoaded,expression:"!isLoaded"}],staticClass:"wbs-content-inner",class:{"wb-page-loaded":t.isLoaded}},[a("div",{staticClass:"wbs-main"},[a("div",{staticClass:"opt-function-hd"},[t._m(0),a("div",{staticClass:"func-desc"},[t._v(" robots.txt用来告诉搜索引擎，网站上的哪些页面可以抓取，哪些页面不能抓取。 ")]),a("div",{staticClass:"mt"},[a("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},on:{change:function(a){return t.setActive(a)}},model:{value:t.opt.active,callback:function(a){t.$set(t.opt,"active",a)},expression:"opt.active"}}),a("span",{staticClass:"ml ib"},[t._v("功能"+t._s("1"==t.opt.active?"开启":"关闭"))])],1)]),t.isLoaded?a("table",{staticClass:"wbs-form-table"},[a("tbody",[a("tr",[a("th",{staticClass:"row w8em"},[t._v("当前状态")]),a("td",[a("p",{staticClass:"pd-b"},[t._v("已设置robots.txt，通过下方编辑框修改编辑")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.opt.content,expression:"opt.content"}],staticClass:"wbs-input",attrs:{rows:"10"},domProps:{value:t.opt.content},on:{input:function(a){a.target.composing||t.$set(t.opt,"content",a.target.value)}}}),a("div",{staticClass:"mt"},[a("el-button",{attrs:{type:"info",plain:"",size:"small"},on:{click:function(a){return t.robots_rest()}}},[t._v("重置默认")]),a("el-link",{staticClass:"ml",attrs:{icon:"el-icon-link",href:"https://www.wbolt.com/tools/robots-tester?url="+encodeURIComponent(t.$cnf.home_url),target:"_blank"}},[t._v("校验规则")])],1)])])])]):t._e(),a("wb-prompt",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}],staticClass:"mt"})],1),t.$cnf.is_pro?t._e():a("wbs-more-sources",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}]})],1),a("wbs-ctrl-bar",{on:{submit:t.updateData}})],1)},e=[function(){var t=this,a=t._self._c;return a("h3",{staticClass:"func-name"},[a("strong",[t._v("robots.txt配置")])])}],n={name:"Robots",data(){const t=this;return{formChanged:0,isLoaded:!1,is_pro:t.$cnf.is_pro,opt:{},cnf:{}}},created(){const t=this;t.getData()},methods:{setActive(t){const a=this;1==t&&""==a.opt.content&&a.robots_txt()},robots_rest(){const t=this;t.$wbui.confirm("将会重置robots.txt规则，请谨慎操作。",()=>{t.$api.getData({action:t.$cnf.action.act,op:"robots_txt"}).then(a=>{t.opt.content=a.data,t.updateData()})})},robots_txt(){const t=this;t.$api.getData({action:t.$cnf.action.act,op:"robots_txt"}).then(a=>{t.opt.content=a.data})},getData(){const t=this;t.$api.getData({action:t.$cnf.action.act,op:"get_options",key:"robots_seo"}).then(a=>{t.opt=a.data,t.isLoaded=!0})},updateData(t){const a=this;a.$api.saveData({_ajax_nonce:_wb_sst_ajax_nonce||"",action:a.$cnf.action.act,op:"update_options",opt:a.opt,key:"robots_seo"}).then(o=>{a.$wbui.toast("设置保存成功"),a.formChanged=1,t&&t()})}},watch:{opt:{handler(){this.formChanged++},deep:!0}},beforeRouteLeave(t,a,o){const s=this;s.formChanged>2?s.$wbui.open({content:"您修改的设置尚未保存，确定离开此页面吗？",btn:["保存并离开","放弃修改"],yes(){return o(!1),s.updateData(()=>{o()}),!1},no(){return o(),!1}}):o()}},i=n,c=o("2877"),r=Object(c["a"])(i,s,e,!1,null,null,null);a["default"]=r.exports}}]);