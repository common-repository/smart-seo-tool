(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-774522a2"],{8856:function(t,e,n){"use strict";var o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"wbs-custom-links"},[e("label",{staticClass:"wb-links-input-box"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.cur_input,expression:"cur_input"}],staticClass:"wbs-input wbs-input-short",attrs:{type:"text",placeholder:t.placeholder},domProps:{value:t.cur_input},on:{keyup:t.wbTagInput,input:function(e){e.target.composing||(t.cur_input=e.target.value)}}}),e("a",{staticClass:"ml link",on:{click:t.wbTagPush}},[t._v("添加 +")])]),t.items.length?e("div",{staticClass:"links-items"},t._l(t.items,(function(n,o){return e("div",{key:o,staticClass:"link-item"},[e("span",{staticClass:"item-value",domProps:{innerHTML:t._s(t.displayFormat(n))}}),e("span",{staticClass:"del",attrs:{"data-del-val":n},on:{click:function(e){return t.delItem(o)}}},[e("i",{staticClass:"el-icon-delete"})])])})),0):t._e()])},r=[],i={name:"comCustomLinks",props:{items:Array,mode:Number,placeholder:String},data(){return{cur_input:"",taglist:[],keycode:null}},created(){this.taglist=this.items?this.items:[]},methods:{wbTagInput(t){var e=this,n=t.keyCode;188===n&&(e.cur_input=e.cur_input.replace(/(^,)|(,$)/,"")),13===n&&(e.wbTagPush(),event.stopPropagation())},wbTagPush(t){var e=this;return""!=e.cur_input&&(e.taglist.indexOf(e.cur_input.trim())>-1?(e.$wbui.toast("已存在"),e.cur_input="",!1):(e.taglist.push(e.cur_input),e.$emit("set-tags",e.taglist),e.cur_input="",!1))},delItem(t){var e=this;e.$wbui.confirm("确认删除？",()=>{e.taglist.splice(t,1),e.$emit("set-tags",e.taglist),e.$wbui.toast("已移除")})},displayFormat(t){return t}}},a=i,s=n("2877"),c=Object(s["a"])(a,o,r,!1,null,null,null);e["a"]=c.exports},"99fb":function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"loading",rawName:"v-loading",value:!t.isLoaded,expression:"!isLoaded"}],staticClass:"wbs-content-inner",class:{"wb-page-loaded":t.isLoaded}},[e("div",{staticClass:"wbs-main"},[e("div",{staticClass:"opt-function-hd"},[t._m(0),e("div",{staticClass:"func-desc"},[t._v(" 对分类页、Tag页及搜索页URL进行改写，及对出站链接添加nofollow属性及本域中转跳转。 ")]),e("div",{staticClass:"mt"},[e("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:t.opt.active,callback:function(e){t.$set(t.opt,"active",e)},expression:"opt.active"}}),t._v(" "),e("span",{staticClass:"ml ib"},[t._v("功能"+t._s("1"==t.opt.active?"开启":"关闭"))])],1)]),t.isLoaded?e("table",{staticClass:"wbs-form-table"},[e("tbody",[e("tr",[e("th",{staticClass:"row w8em"},[t._v("站内链接优化")]),e("td",[e("div",{staticClass:"item-block"},[e("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:t.opt.reset_tag,callback:function(e){t.$set(t.opt,"reset_tag",e)},expression:"opt.reset_tag"}}),t._v(" "),t._m(1),e("p",{staticClass:"description mt"},[t._v(" * WordPress中文TAG标签默认生成的URL对搜索引擎不友好，通过改写URL优化SEO ")])],1),e("div",{staticClass:"item-block pt-l"},[e("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:t.opt.hide_category,callback:function(e){t.$set(t.opt,"hide_category",e)},expression:"opt.hide_category"}}),e("span",{staticClass:"ml"},[t._v("隐藏URL地址category字段")]),t._m(2)],1)])]),e("tr",[e("th",{staticClass:"row"},[t._v("站外链接优化")]),e("td",[e("p",[t._v("例外域名")]),e("wbs-custom-links",{staticClass:"mb",attrs:{items:t.opt.exclude,mode:1,placeholder:"例如：yourdomain.com"},on:{"set-tags":function(e){t.opt.exclude=e}}}),e("p",{staticClass:"description mt"},[t._v(" * 无需填写http(s)://协议头，仅填写主域名即可。如：yourdomain.com ")])],1)]),e("tr",[e("th",{staticClass:"row"}),e("td",[e("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:t.opt.set_nofollow,callback:function(e){t.$set(t.opt,"set_nofollow",e)},expression:"opt.set_nofollow"}}),e("span",{staticClass:"ml"},[t._v("所有Post及Page页面站外链接增加 "),e("code",{staticClass:"j-set-copy wb-copy-tip",attrs:{"data-clipboard-text":'rel="noopener noreferrer nofollow"'},on:{click:t.copy}},[t._v('rel="noopener noreferrer nofollow"')])])],1)]),e("tr",[e("th",{staticClass:"row"}),e("td",[e("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:t.opt.set_gopage,callback:function(e){t.$set(t.opt,"set_gopage",e)},expression:"opt.set_gopage"}}),t._m(3)],1)]),e("tr",[e("th",{staticClass:"row"}),e("td",[e("el-switch",{attrs:{"active-value":"1","inactive-value":"0"},model:{value:t.opt.blank,callback:function(e){t.$set(t.opt,"blank",e)},expression:"opt.blank"}}),e("span",{staticClass:"ml"},[t._v("以新窗口形式打开链接")])],1)])])]):t._e(),e("wb-prompt",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}],staticClass:"mt"})],1),t.$cnf.is_pro?t._e():e("wbs-more-sources",{directives:[{name:"show",rawName:"v-show",value:t.isLoaded,expression:"isLoaded"}]}),e("wbs-ctrl-bar",{on:{submit:t.updateData}})],1)},r=[function(){var t=this,e=t._self._c;return e("h3",{staticClass:"func-name"},[e("strong",[t._v("链接优化")])])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"ml"},[t._v("标签URL改写为： "),e("code",[t._v("/tag/%tag_id%")])])},function(){var t=this,e=t._self._c;return e("p",{staticClass:"description mt"},[t._v(" 启用后分类URL地址为"),e("code",[e("del",[t._v("category/")]),t._v("catename/…")])])},function(){var t=this,e=t._self._c;return e("span",{staticClass:"ml"},[t._v("站外链接改写为 "),e("code",[t._v("go?_=*")])])}],i=n("8856"),a=n("b311"),s=n.n(a),c={name:"Rewrite",components:{"wbs-custom-links":i["a"]},data(){const t=this;return{formChanged:0,isLoaded:!1,is_pro:t.$cnf.is_pro,opt:{},cnf:{}}},created(){const t=this;t.getData()},methods:{getData(){const t=this;t.$api.getData({action:t.$cnf.action.act,op:"get_options",key:"url_seo"}).then(e=>{t.opt=e.data,t.isLoaded=!0})},updateData(t){const e=this;e.$api.saveData({_ajax_nonce:_wb_sst_ajax_nonce||"",action:e.$cnf.action.act,op:"update_options",opt:e.opt,key:"url_seo"}).then(n=>{e.$wbui.toast("设置保存成功"),e.formChanged=1,t&&t()})},copy(){const t=this;let e=new s.a(".j-set-copy");e.on("success",n=>{t.$wbui.toast("复制成功"),e.destroy()}),e.on("error",t=>{e.destroy()})}},watch:{opt:{handler(){this.formChanged++},deep:!0}},beforeRouteLeave(t,e,n){const o=this;o.formChanged>3?o.$wbui.open({content:"您修改的设置尚未保存，确定离开此页面吗？",btn:["保存并离开","放弃修改"],yes(){return n(!1),o.updateData(()=>{n()}),!1},no(){return n(),!1}}):n()}},u=c,l=n("2877"),p=Object(l["a"])(u,o,r,!1,null,null,null);e["default"]=p.exports},b311:function(t,e,n){
/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT © Zeno Rocha
 */
(function(e,n){t.exports=n()})(0,(function(){return function(){var t={686:function(t,e,n){"use strict";n.d(e,{default:function(){return $}});var o=n(279),r=n.n(o),i=n(370),a=n.n(i),s=n(817),c=n.n(s);function u(t){try{return document.execCommand(t)}catch(e){return!1}}var l=function(t){var e=c()(t);return u("cut"),e},p=l;function f(t){var e="rtl"===document.documentElement.getAttribute("dir"),n=document.createElement("textarea");n.style.fontSize="12pt",n.style.border="0",n.style.padding="0",n.style.margin="0",n.style.position="absolute",n.style[e?"right":"left"]="-9999px";var o=window.pageYOffset||document.documentElement.scrollTop;return n.style.top="".concat(o,"px"),n.setAttribute("readonly",""),n.value=t,n}var d=function(t,e){var n=f(t);e.container.appendChild(n);var o=c()(n);return u("copy"),n.remove(),o},v=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body},n="";return"string"===typeof t?n=d(t,e):t instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(null===t||void 0===t?void 0:t.type)?n=d(t.value,e):(n=c()(t),u("copy")),n},m=v;function y(t){return y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}var h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.action,n=void 0===e?"copy":e,o=t.container,r=t.target,i=t.text;if("copy"!==n&&"cut"!==n)throw new Error('Invalid "action" value, use either "copy" or "cut"');if(void 0!==r){if(!r||"object"!==y(r)||1!==r.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===n&&r.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===n&&(r.hasAttribute("readonly")||r.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes')}return i?m(i,{container:o}):r?"cut"===n?p(r):m(r,{container:o}):void 0},b=h;function g(t){return g="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g(t)}function w(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function C(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}function x(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}function k(t,e){return k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},k(t,e)}function E(t){var e=T();return function(){var n,o=A(t);if(e){var r=A(this).constructor;n=Reflect.construct(o,arguments,r)}else n=o.apply(this,arguments);return S(this,n)}}function S(t,e){return!e||"object"!==g(e)&&"function"!==typeof e?L(t):e}function L(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}function A(t){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},A(t)}function j(t,e){var n="data-clipboard-".concat(t);if(e.hasAttribute(n))return e.getAttribute(n)}var O=function(t){x(n,t);var e=E(n);function n(t,o){var r;return w(this,n),r=e.call(this),r.resolveOptions(o),r.listenClick(t),r}return C(n,[{key:"resolveOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"===typeof t.action?t.action:this.defaultAction,this.target="function"===typeof t.target?t.target:this.defaultTarget,this.text="function"===typeof t.text?t.text:this.defaultText,this.container="object"===g(t.container)?t.container:document.body}},{key:"listenClick",value:function(t){var e=this;this.listener=a()(t,"click",(function(t){return e.onClick(t)}))}},{key:"onClick",value:function(t){var e=t.delegateTarget||t.currentTarget,n=this.action(e)||"copy",o=b({action:n,container:this.container,target:this.target(e),text:this.text(e)});this.emit(o?"success":"error",{action:n,text:o,trigger:e,clearSelection:function(){e&&e.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(t){return j("action",t)}},{key:"defaultTarget",value:function(t){var e=j("target",t);if(e)return document.querySelector(e)}},{key:"defaultText",value:function(t){return j("text",t)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{container:document.body};return m(t,e)}},{key:"cut",value:function(t){return p(t)}},{key:"isSupported",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],e="string"===typeof t?[t]:t,n=!!document.queryCommandSupported;return e.forEach((function(t){n=n&&!!document.queryCommandSupported(t)})),n}}]),n}(r()),$=O},828:function(t){var e=9;if("undefined"!==typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}function o(t,n){while(t&&t.nodeType!==e){if("function"===typeof t.matches&&t.matches(n))return t;t=t.parentNode}}t.exports=o},438:function(t,e,n){var o=n(828);function r(t,e,n,o,r){var i=a.apply(this,arguments);return t.addEventListener(n,i,r),{destroy:function(){t.removeEventListener(n,i,r)}}}function i(t,e,n,o,i){return"function"===typeof t.addEventListener?r.apply(null,arguments):"function"===typeof n?r.bind(null,document).apply(null,arguments):("string"===typeof t&&(t=document.querySelectorAll(t)),Array.prototype.map.call(t,(function(t){return r(t,e,n,o,i)})))}function a(t,e,n,r){return function(n){n.delegateTarget=o(n.target,e),n.delegateTarget&&r.call(t,n)}}t.exports=i},879:function(t,e){e.node=function(t){return void 0!==t&&t instanceof HTMLElement&&1===t.nodeType},e.nodeList=function(t){var n=Object.prototype.toString.call(t);return void 0!==t&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in t&&(0===t.length||e.node(t[0]))},e.string=function(t){return"string"===typeof t||t instanceof String},e.fn=function(t){var e=Object.prototype.toString.call(t);return"[object Function]"===e}},370:function(t,e,n){var o=n(879),r=n(438);function i(t,e,n){if(!t&&!e&&!n)throw new Error("Missing required arguments");if(!o.string(e))throw new TypeError("Second argument must be a String");if(!o.fn(n))throw new TypeError("Third argument must be a Function");if(o.node(t))return a(t,e,n);if(o.nodeList(t))return s(t,e,n);if(o.string(t))return c(t,e,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function a(t,e,n){return t.addEventListener(e,n),{destroy:function(){t.removeEventListener(e,n)}}}function s(t,e,n){return Array.prototype.forEach.call(t,(function(t){t.addEventListener(e,n)})),{destroy:function(){Array.prototype.forEach.call(t,(function(t){t.removeEventListener(e,n)}))}}}function c(t,e,n){return r(document.body,t,e,n)}t.exports=i},817:function(t){function e(t){var e;if("SELECT"===t.nodeName)t.focus(),e=t.value;else if("INPUT"===t.nodeName||"TEXTAREA"===t.nodeName){var n=t.hasAttribute("readonly");n||t.setAttribute("readonly",""),t.select(),t.setSelectionRange(0,t.value.length),n||t.removeAttribute("readonly"),e=t.value}else{t.hasAttribute("contenteditable")&&t.focus();var o=window.getSelection(),r=document.createRange();r.selectNodeContents(t),o.removeAllRanges(),o.addRange(r),e=o.toString()}return e}t.exports=e},279:function(t){function e(){}e.prototype={on:function(t,e,n){var o=this.e||(this.e={});return(o[t]||(o[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var o=this;function r(){o.off(t,r),e.apply(n,arguments)}return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),o=0,r=n.length;for(o;o<r;o++)n[o].fn.apply(n[o].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),o=n[t],r=[];if(o&&e)for(var i=0,a=o.length;i<a;i++)o[i].fn!==e&&o[i].fn._!==e&&r.push(o[i]);return r.length?n[t]=r:delete n[t],this}},t.exports=e,t.exports.TinyEmitter=e}},e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}return function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),n(686)}().default}))}}]);